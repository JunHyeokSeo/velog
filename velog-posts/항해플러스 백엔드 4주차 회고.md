<h2 id="문제">문제</h2>
<h3 id="이번-주차를-지나며-겪었던-문제가-무엇이었나요">&quot;이번 주차를 지나며 겪었던 문제가 무엇이었나요?&quot;</h3>
<p>이번 주차에서는 콘서트 예약 서비스에서 RDB로 대기열을 구현하는 과정에서 발생한 성능 문제와 통합 테스트 작성에 실패한 경험이 있었습니다. 특히 여러 사용자가 동시에 좌석을 예약하려고 할 때, 대기열 순번 처리와 좌석 점유 상태가 불안정하게 작동하는 상황을 재현하려고 했으나, 테스트 환경에서의 동시성 처리가 제대로 이루어지지 않아 어려움을 겪었습니다.</p>
<h2 id="시도">시도</h2>
<h3 id="문제를-해결하기-위해-어떤-시도를-하셨나요">&quot;문제를 해결하기 위해 어떤 시도를 하셨나요?&quot;</h3>
<ol>
<li><strong>비관적 락 도입</strong>: 좌석 예약 처리 시 충돌을 방지하기 위해 비관적 락을 도입해 동시성 문제를 해결하려고 했습니다.</li>
<li><strong>스케줄러 조정</strong>: 스케줄러가 주기적으로 대기열 상태를 업데이트하는 방식에서 성능을 높이기 위해 주기 시간을 조정했습니다.</li>
<li><strong>통합 테스트 작성</strong>: 실제 서비스 환경에서 발생할 수 있는 동시성 이슈를 테스트하기 위해 통합 테스트를 작성하려 했습니다. 여러 스레드가 동시에 대기열에 접근하고 좌석을 예약하는 시나리오를 재현하려 했습니다.</li>
</ol>
<h2 id="해결">해결</h2>
<h3 id="문제를-어떻게-해결했나요">&quot;문제를 어떻게 해결했나요?&quot;</h3>
<p>비관적 락과 스케줄러 최적화로 일부 동시성 문제는 해결했지만, 통합 테스트 작성에는 실패했습니다. 여러 스레드가 동시 다발적으로 요청하는 상황을 테스트 환경에서 재현하기가 매우 까다로웠고, 테스트 도구와 환경의 한계로 인해 실제 상황과 동일한 부하를 주는 데 어려움이 있었습니다.</p>
<h2 id="알게된-것">알게된 것</h2>
<h3 id="문제를-해결하기-위해-시도하며-새롭게-알게-된-것은-무엇인가요">&quot;문제를 해결하기 위해 시도하며 새롭게 알게 된 것은 무엇인가요?&quot;</h3>
<ul>
<li><strong>테스트 환경의 한계</strong>: 테스트 환경에서 실제 서비스 환경과 동일한 동시성 시나리오를 재현하기 위해서는 테스트 도구와 환경 설정이 매우 중요하다는 점을 알게 되었습니다. 로컬 환경에서의 통합 테스트만으로는 실제 프로덕션 수준의 부하를 정확히 측정하기 어렵습니다.</li>
<li><strong>Mock과 실제 환경의 차이</strong>: 테스트에서 사용하는 Mock 객체는 실제 데이터베이스 및 동시성 문제를 반영하지 못하는 경우가 많아, 실제 환경에서는 문제가 없더라도 테스트에서는 실패할 수 있음을 깨달았습니다.</li>
</ul>
<h2 id="지난-목표-회고">지난 목표 회고</h2>
<h3 id="지난-주에-설정해-두었던-목표는-달성하셨나요-잘-된-것은-무엇이고-안-된-것은-무엇인가요">&quot;지난 주에 설정해 두었던 목표는 달성하셨나요? 잘 된 것은 무엇이고 안 된 것은 무엇인가요?&quot;</h3>
<p>지난 주 목표는 대기열 시스템의 동시성 문제 해결과 통합 테스트 작성이었습니다. 비관적 락을 사용해 동시성 문제를 해결한 것은 성공적이었지만, 통합 테스트 작성에 실패한 점은 아쉬운 부분입니다. 특히, 동시성 문제를 테스트 환경에서 재현하려고 했으나 성공하지 못해 이에 대한 추가적인 학습이 필요합니다.</p>
<h2 id="다음-목표-설정">다음 목표 설정</h2>
<h3 id="반복적인-성장을-위한-실천-가능한-단기적인-목표를-설정해-보세요">&quot;반복적인 성장을 위한 실천 가능한 단기적인 목표를 설정해 보세요!&quot;</h3>
<ol>
<li><strong>통합 테스트 작성 재도전</strong>: 동시성 시나리오를 재현할 수 있는 적절한 테스트 도구와 환경을 찾아 통합 테스트를 작성하고, 이를 통해 실질적인 동시성 문제를 해결하는 과정을 검증해보겠습니다.</li>
<li><strong>테스트 환경 개선</strong>: 로컬 환경 외에 실제와 유사한 환경에서 테스트할 수 있도록 인프라를 개선해보겠습니다.</li>
<li><strong>테스트 자동화 강화</strong>: 다양한 시나리오에 맞는 자동화된 테스트 케이스를 추가하여 더 높은 수준의 테스트 커버리지를 확보하겠습니다.</li>
</ol>